-------------------------------------
ğŸ§© SQL â†”ï¸ EXPRESS API MATCHING WORKSHEET
-------------------------------------

It's time to build your own API for your full-stack Countries App! 
So far, you've already deployed your database and wrote SQL commands to interact with your database directly. 
Now, youâ€™ll connect those same SQL commands to the corresponding API endpoints. 
This will help you pseudo-code before you start coding your Countries API! 

Your task: Match your SQL code to each API endpoint. 

-------------------------------------
ğŸ“ STEP 1: FIND YOUR DB FIDDLE
-------------------------------------

Paste your Countries App DB Fiddle link below (the one with your SQL tables and commands). 
If you're having trouble finding it, try checking your submission to this Canvas assignment: 
  https://canvas.instructure.com/courses/12656768/assignments/57733319?module_item_id=137600320

ğŸ”— My Countries App DB Fiddle Link: 
https://www.db-fiddle.com/f/VJ618HRTy1VgadL7aSXh7/57
____________________________________________

-------------------------------------
ğŸ“ STEP 2: MATCH YOUR SQL TO API ENDPOINTS
-------------------------------------

For each API endpoint below:
1ï¸âƒ£ Find the SQL command in your DB Fiddle that performs the same action.
2ï¸âƒ£ Copy and paste YOUR SQL command under that endpointï¸.
3ï¸âƒ£ Identify the dynamic values ($1, $2, etc.) your helper function will use in your SQL command. 
   
-------------------------------------
ğŸ“Š EXAMPLE
-------------------------------------
Here's an example of how you'd fill out this pseudo-coding template for an example endpoint. 

ğŸ”¹ POST /update-one-animal-name
Description: Retrieves the most recently added user. 
Your SQL command: 
UPDATE animals SET name = $1 WHERE id = $2

-------------------------------------
ğŸ“Š USERS
-------------------------------------

ğŸ”¹ GET /get-newest-user  
Description: Retrieves the most recently added user. 
Your SQL command: 
SELECT * FROM users
ORDER BY user_id DESC LIMIT 1;
____________________________


ğŸ”¹ GET /get-all-users  
Description: Retrieves all users from the database.  
Your SQL command:
SELECT * FROM users;
____________________________


ğŸ”¹ POST /add-one-user  
Description: Adds a new user to the database.  
Your SQL command:
INSERT INTO users (name, country_name,email,bio)
	VALUES 
		($1, $2, $3, $4) 
        	RETURNING *;
____________________________

$1 is name
$2 is country_name
$3 is email
$4 bio
____________________________

-------------------------------------
ğŸ“Š SAVED COUNTRIES
-------------------------------------

ğŸ”¹ GET /get-all-saved-countries  
Description: Retrieves a list of all saved countries.  
Your SQL command:
SELECT country_name FROM saved_countries;
____________________________



ğŸ”¹ POST /save-one-country  
Description: Saves a country if it hasnâ€™t already been saved.  
Your SQL command:
INSERT INTO saved_countries(country_name)
	VALUES ($1)
    ON CONFLICT (country_name)
    DO NOTHING
    RETURNING *
____________________________
$1 is country_name
____________________________





-------------------------------------
ğŸ“Š COUNTRY COUNTS
-------------------------------------

ğŸ”¹ POST /update-one-country-count  
Description: Updates (or initializes) the view count for a country.  
Your SQL command:
INSERT INTO country_counts(country_name, count)
	VALUES ($1, 1)
    ON CONFLICT (country_name)
    DO UPDATE SET count = country_counts.count + 1 RETURNING *;
____________________________
$1 is country_name
____________________________

-------------------------------------
ğŸ† STRETCH GOALS
-------------------------------------

ğŸ† Add an /unsave-one-country API endpoint to unsave a single country

ğŸ”¹ POST /unsave-one-country  
Description: Unsaves a country if it has been saved.  
Your SQL command:
DELETE FROM saved_countries
	WHERE country_name =  $1
    RETURNING *;
____________________________
$1 is country_name
____________________________

ğŸ† Add an /unsave-all-countries API endpoint to unsave all countries

ğŸ”¹ POST /unsave-all-countries
Description: Unsaves all countries that have been saved.  
Your SQL command:
DELETE FROM saved_countries
    RETURNING *;
____________________________
 
____________________________


ğŸ† Add a /reset-one-country-count API endpoint to reset a country's count back to 0

ğŸ”¹ POST /reset-one-country-count 
Description:  reset a country's count back to 0.
Your SQL command:
UPDATE country_counts
SET count = 0
WHERE country_name = $1
RETURNING *;
____________________________
$1 is country_name
____________________________